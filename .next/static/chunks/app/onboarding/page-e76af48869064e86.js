(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{9917:(e,r,a)=>{Promise.resolve().then(a.bind(a,1175))},6046:(e,r,a)=>{"use strict";var t=a(6658);a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},1175:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(5155),s=a(2115),n=a(3312),i=a(9749),l=a(3900),o=a(8986),d=a(6046);function u(){let[e,r]=(0,s.useState)(null),[a,u]=(0,s.useState)({}),[c,f]=(0,s.useState)(!1),g=(0,d.useRouter)();(0,s.useEffect)(()=>{let e=localStorage.getItem("user");e?r(JSON.parse(e)):g.push("/auth/login")},[g]);let m=async e=>{e.preventDefault(),f(!0);try{await new Promise(e=>setTimeout(e,1e3)),g.push("/dashboard")}catch(e){console.error("Profile update failed:",e)}finally{f(!1)}};return e?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{className:"text-2xl text-center",children:"Complete Your Profile"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("form",{onSubmit:m,className:"space-y-6",children:["au_pair"===e.role?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"name",children:"Full Name"}),(0,t.jsx)(l.p,{id:"name",placeholder:"Enter your full name",value:a.name||"",onChange:e=>u({...a,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"age",children:"Age"}),(0,t.jsx)(l.p,{id:"age",type:"number",placeholder:"Enter your age",value:a.age||"",onChange:e=>u({...a,age:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"languages",children:"Languages (comma separated)"}),(0,t.jsx)(l.p,{id:"languages",placeholder:"e.g., English, Spanish, French",value:a.languages||"",onChange:e=>u({...a,languages:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"bio",children:"Bio"}),(0,t.jsx)("textarea",{id:"bio",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",placeholder:"Tell us about yourself...",value:a.bio||"",onChange:e=>u({...a,bio:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"preferredCountries",children:"Preferred Countries"}),(0,t.jsx)(l.p,{id:"preferredCountries",placeholder:"e.g., USA, Canada, UK",value:a.preferredCountries||"",onChange:e=>u({...a,preferredCountries:e.target.value}),required:!0})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"familyName",children:"Family Name"}),(0,t.jsx)(l.p,{id:"familyName",placeholder:"Enter your family name",value:a.familyName||"",onChange:e=>u({...a,familyName:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"childrenInfo",children:"Children Information"}),(0,t.jsx)("textarea",{id:"childrenInfo",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",placeholder:"Ages and brief description of your children...",value:a.childrenInfo||"",onChange:e=>u({...a,childrenInfo:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"location",children:"Location"}),(0,t.jsx)(l.p,{id:"location",placeholder:"City, Country",value:a.location||"",onChange:e=>u({...a,location:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"languages",children:"Languages Spoken at Home"}),(0,t.jsx)(l.p,{id:"languages",placeholder:"e.g., English, Spanish",value:a.languages||"",onChange:e=>u({...a,languages:e.target.value}),required:!0})]})]}),(0,t.jsx)(n.$,{type:"submit",className:"w-full",disabled:c,children:c?"Saving Profile...":"Complete Profile"})]})})]})})}):(0,t.jsx)("div",{children:"Loading..."})}},3312:(e,r,a)=>{"use strict";a.d(r,{$:()=>d});var t=a(5155),s=a(2115),n=a(1290),i=a(1027),l=a(1567);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:a,variant:s,size:i,asChild:d=!1,...u}=e,c=d?n.DX:"button";return(0,t.jsx)(c,{className:(0,l.cn)(o({variant:s,size:i,className:a})),ref:r,...u})});d.displayName="Button"},9749:(e,r,a)=>{"use strict";a.d(r,{BT:()=>d,Wu:()=>u,ZB:()=>o,Zp:()=>i,aR:()=>l});var t=a(5155),s=a(2115),n=a(1567);let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let l=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let u=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",a),...s})});u.displayName="CardContent",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},3900:(e,r,a)=>{"use strict";a.d(r,{p:()=>i});var t=a(5155),s=a(2115),n=a(1567);let i=s.forwardRef((e,r)=>{let{className:a,type:s,...i}=e;return(0,t.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...i})});i.displayName="Input"},8986:(e,r,a)=>{"use strict";a.d(r,{J:()=>d});var t=a(5155),s=a(2115),n=a(472),i=a(1027),l=a(1567);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(n.Root,{ref:r,className:(0,l.cn)(o(),a),...s})});d.displayName=n.Root.displayName},1567:(e,r,a)=>{"use strict";a.d(r,{cn:()=>l,l:()=>d,n:()=>o});var t=a(3463),s=a(9795),n=a(3749),i=a(709);function l(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,t.$)(r))}let o=(0,n.vt)()((0,i.Zr)((e,r)=>({user:null,isAuthenticated:!1,isLoading:!0,login:r=>{e({user:r,isAuthenticated:!0,isLoading:!1})},logout:()=>{e({user:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("auth-token"),localStorage.removeItem("user-data")},updateUser:a=>{let t=r().user;t&&e({user:{...t,...a}})},setLoading:r=>{e({isLoading:r})},checkAuth:async()=>{try{e({isLoading:!0});let r=localStorage.getItem("auth-token");if(!r){e({user:null,isAuthenticated:!1,isLoading:!1});return}let a=await fetch("".concat("https://au-pair.onrender.com/api","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(r)}});if(a.ok){let r=await a.json();e({user:r.user,isAuthenticated:!0,isLoading:!1})}else localStorage.removeItem("auth-token"),localStorage.removeItem("user-data"),e({user:null,isAuthenticated:!1,isLoading:!1})}catch(r){console.error("Auth check failed:",r),e({user:null,isAuthenticated:!1,isLoading:!1})}}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),d=(0,n.vt)(e=>({currentPath:"/",setCurrentPath:r=>e({currentPath:r})}))},472:(e,r,a)=>{"use strict";a.d(r,{Root:()=>o});var t=a(2115);a(7650);var s=a(1290),n=a(5155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let a=(0,s.TL)(`Primitive.${r}`),i=t.forwardRef((e,t)=>{let{asChild:s,...i}=e,l=s?a:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),l=t.forwardRef((e,r)=>(0,n.jsx)(i.label,{...e,ref:r,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));l.displayName="Label";var o=l}},e=>{var r=r=>e(e.s=r);e.O(0,[896,441,517,358],()=>r(9917)),_N_E=e.O()}]);