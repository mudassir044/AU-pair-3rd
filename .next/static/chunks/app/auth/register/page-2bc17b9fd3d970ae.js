(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{2478:(e,r,a)=>{Promise.resolve().then(a.bind(a,2819))},2819:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>v});var t=a(5155),s=a(2115),i=a(3312),l=a(9749),n=a(3900),d=a(8986),o=a(8173),c=a.n(o),m=a(6046),u=a(418),h=a(2823),x=a(8867),p=a(591),f=a(738),g=a(2598),y=a(7364);let j=a(2651).A.create({baseURL:"https://au-pair.onrender.com/api",timeout:1e4});j.interceptors.request.use(e=>{let r=localStorage.getItem("user");if(r){let a=JSON.parse(r);e.headers.Authorization="Bearer ".concat(a.token)}return e},e=>Promise.reject(e));let b={register:e=>j.post("/auth/register",e)};function N(){let[e,r]=(0,s.useState)(1),[a,o]=(0,s.useState)(null),[j,N]=(0,s.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",country:"",city:"",phone:"",dateOfBirth:""}),[v,w]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1),[A,P]=(0,s.useState)(!1),[S,B]=(0,s.useState)({}),R=(0,m.useRouter)(),F=(0,m.useSearchParams)();(0,s.useEffect)(()=>{let e=F.get("role");("host"===e||"aupair"===e)&&(o("host"===e?"host_family":"au_pair"),r(2))},[F]);let L=e=>{let{name:r,value:a}=e.target;N(e=>({...e,[r]:a})),S[r]&&B(e=>({...e,[r]:""}))},E=e=>{let r={};return 2===e&&(j.email?/\S+@\S+\.\S+/.test(j.email)||(r.email="Email is invalid"):r.email="Email is required",j.password?j.password.length<8&&(r.password="Password must be at least 8 characters"):r.password="Password is required",j.password!==j.confirmPassword&&(r.confirmPassword="Passwords do not match")),3!==e||(j.firstName||(r.firstName="First name is required"),j.lastName||(r.lastName="Last name is required"),j.country||(r.country="Country is required"),j.city||(r.city="City is required")),B(r),0===Object.keys(r).length},J=()=>{E(e)&&r(e+1)},O=()=>{r(e-1)},Z=async()=>{if(E(e)){w(!0);try{let e={...j,role:a},r=await b.register(e);localStorage.setItem("user",JSON.stringify(r.data.user)),localStorage.setItem("token",r.data.token),window.dispatchEvent(new CustomEvent("authStateChanged")),R.push("/onboarding"),R.refresh()}catch(e){var r,t;console.error("Registration failed:",e),B({general:(null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"Registration failed. Please try again."})}finally{w(!1)}}},I=[{id:"host_family",title:"Host Family",description:"Welcome an au pair into your home for childcare and cultural exchange",icon:u.A,features:["Find experienced au pairs","Flexible childcare","Cultural enrichment","Trusted verification"]},{id:"au_pair",title:"Au Pair",description:"Live with a host family abroad and experience a new culture",icon:h.A,features:["Live with local families","Learn new languages","Travel experience","Career development"]}];return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-blue-50 dark:from-primary-950 dark:via-background dark:to-blue-950 flex items-center justify-center py-12 px-4",children:(0,t.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[1,2,3].map(r=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-2 ".concat(e>=r?"bg-primary border-primary text-white":"border-gray-300 text-gray-300"),children:e>r?(0,t.jsx)(x.A,{className:"w-5 h-5"}):r}),r<3&&(0,t.jsx)("div",{className:"w-16 h-0.5 mx-2 ".concat(e>r?"bg-primary":"bg-gray-300")})]},r))}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",e," of 3"]})})]}),1===e&&(0,t.jsxs)(l.Zp,{className:"shadow-2xl border-0",children:[(0,t.jsxs)(l.aR,{className:"text-center pb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(p.A,{className:"w-8 h-8 text-white"})}),(0,t.jsx)(l.ZB,{className:"text-3xl font-bold",children:"Join Au Pair Connect"}),(0,t.jsx)(l.BT,{className:"text-lg",children:"Choose your role to get started with your cultural exchange journey"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:I.map(e=>{let r=e.icon;return(0,t.jsxs)(l.Zp,{className:"cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-2 ".concat(a===e.id?"ring-2 ring-primary bg-primary-50 dark:bg-primary-950":"hover:bg-gray-50 dark:hover:bg-gray-800"),onClick:()=>o(e.id),children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 ".concat(a===e.id?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300"),children:(0,t.jsx)(r,{className:"w-8 h-8"})}),(0,t.jsx)(l.ZB,{className:"text-xl",children:e.title}),(0,t.jsx)(l.BT,{className:"text-base",children:e.description})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("ul",{className:"space-y-2",children:e.features.map((e,r)=>(0,t.jsxs)("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 text-green-500 mr-2"}),e]},r))})})]},e.id)})}),(0,t.jsx)("div",{className:"mt-8 flex justify-center",children:(0,t.jsx)(i.$,{onClick:J,disabled:!a,size:"lg",className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary-600 hover:to-blue-700 px-8 py-3 rounded-2xl text-lg font-semibold",children:"Continue"})})]})]}),2===e&&(0,t.jsxs)(l.Zp,{className:"shadow-2xl border-0",children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)(l.ZB,{className:"text-2xl font-bold",children:"Create Your Account"}),(0,t.jsx)(l.BT,{children:"Set up your login credentials"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[S.general&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300 text-center",children:S.general}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"email",children:"Email Address"}),(0,t.jsx)(n.p,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:j.email,onChange:L,className:S.email?"border-red-500":""}),S.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.p,{id:"password",name:"password",type:k?"text":"password",placeholder:"Create a strong password",value:j.password,onChange:L,className:S.password?"border-red-500":""}),(0,t.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!k),children:k?(0,t.jsx)(f.A,{className:"h-4 w-4"}):(0,t.jsx)(g.A,{className:"h-4 w-4"})})]}),S.password&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.password})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.p,{id:"confirmPassword",name:"confirmPassword",type:A?"text":"password",placeholder:"Confirm your password",value:j.confirmPassword,onChange:L,className:S.confirmPassword?"border-red-500":""}),(0,t.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>P(!A),children:A?(0,t.jsx)(f.A,{className:"h-4 w-4"}):(0,t.jsx)(g.A,{className:"h-4 w-4"})})]}),S.confirmPassword&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.confirmPassword})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)(i.$,{onClick:O,variant:"outline",className:"flex items-center",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,t.jsx)(i.$,{onClick:J,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary-600 hover:to-blue-700",children:"Continue"})]})]})]}),3===e&&(0,t.jsxs)(l.Zp,{className:"shadow-2xl border-0",children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)(l.ZB,{className:"text-2xl font-bold",children:"Personal Information"}),(0,t.jsx)(l.BT,{children:"Tell us a bit about yourself"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"firstName",children:"First Name"}),(0,t.jsx)(n.p,{id:"firstName",name:"firstName",placeholder:"Enter your first name",value:j.firstName,onChange:L,className:S.firstName?"border-red-500":""}),S.firstName&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.firstName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"lastName",children:"Last Name"}),(0,t.jsx)(n.p,{id:"lastName",name:"lastName",placeholder:"Enter your last name",value:j.lastName,onChange:L,className:S.lastName?"border-red-500":""}),S.lastName&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.lastName})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"country",children:"Country"}),(0,t.jsx)(n.p,{id:"country",name:"country",placeholder:"Enter your country",value:j.country,onChange:L,className:S.country?"border-red-500":""}),S.country&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.country})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"city",children:"City"}),(0,t.jsx)(n.p,{id:"city",name:"city",placeholder:"Enter your city",value:j.city,onChange:L,className:S.city?"border-red-500":""}),S.city&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:S.city})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"phone",children:"Phone Number (Optional)"}),(0,t.jsx)(n.p,{id:"phone",name:"phone",placeholder:"Enter your phone number",value:j.phone,onChange:L})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.J,{htmlFor:"dateOfBirth",children:"Date of Birth (Optional)"}),(0,t.jsx)(n.p,{id:"dateOfBirth",name:"dateOfBirth",type:"date",value:j.dateOfBirth,onChange:L})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)(i.$,{onClick:O,variant:"outline",className:"flex items-center",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,t.jsx)(i.$,{onClick:Z,disabled:v,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary-600 hover:to-blue-700",children:v?"Creating Account...":"Create Account"})]})]})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",(0,t.jsx)(c(),{href:"/auth/login",className:"text-primary hover:underline font-medium",children:"Sign in here"})]})})]})})}function v(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-blue-50 dark:from-primary-950 dark:via-background dark:to-blue-950 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,t.jsx)(p.A,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading..."})]})}),children:(0,t.jsx)(N,{})})}},3312:(e,r,a)=>{"use strict";a.d(r,{$:()=>o});var t=a(5155),s=a(2115),i=a(1290),l=a(1027),n=a(1567);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,r)=>{let{className:a,variant:s,size:l,asChild:o=!1,...c}=e,m=o?i.DX:"button";return(0,t.jsx)(m,{className:(0,n.cn)(d({variant:s,size:l,className:a})),ref:r,...c})});o.displayName="Button"},9749:(e,r,a)=>{"use strict";a.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n});var t=a(5155),s=a(2115),i=a(1567);let l=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},3900:(e,r,a)=>{"use strict";a.d(r,{p:()=>l});var t=a(5155),s=a(2115),i=a(1567);let l=s.forwardRef((e,r)=>{let{className:a,type:s,...l}=e;return(0,t.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...l})});l.displayName="Input"},8986:(e,r,a)=>{"use strict";a.d(r,{J:()=>o});var t=a(5155),s=a(2115),i=a(472),l=a(1027),n=a(1567);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(i.Root,{ref:r,className:(0,n.cn)(d(),a),...s})});o.displayName=i.Root.displayName},1567:(e,r,a)=>{"use strict";a.d(r,{cn:()=>n,l:()=>o,n:()=>d});var t=a(3463),s=a(9795),i=a(3749),l=a(709);function n(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,t.$)(r))}let d=(0,i.vt)()((0,l.Zr)((e,r)=>({user:null,isAuthenticated:!1,isLoading:!0,login:r=>{e({user:r,isAuthenticated:!0,isLoading:!1})},logout:()=>{e({user:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("auth-token"),localStorage.removeItem("user-data")},updateUser:a=>{let t=r().user;t&&e({user:{...t,...a}})},setLoading:r=>{e({isLoading:r})},checkAuth:async()=>{try{e({isLoading:!0});let r=localStorage.getItem("auth-token");if(!r){e({user:null,isAuthenticated:!1,isLoading:!1});return}let a=await fetch("".concat("https://au-pair.onrender.com/api","/api/auth/me"),{headers:{Authorization:"Bearer ".concat(r)}});if(a.ok){let r=await a.json();e({user:r.user,isAuthenticated:!0,isLoading:!1})}else localStorage.removeItem("auth-token"),localStorage.removeItem("user-data"),e({user:null,isAuthenticated:!1,isLoading:!1})}catch(r){console.error("Auth check failed:",r),e({user:null,isAuthenticated:!1,isLoading:!1})}}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),o=(0,i.vt)(e=>({currentPath:"/",setCurrentPath:r=>e({currentPath:r})}))}},e=>{var r=r=>e(e.s=r);e.O(0,[896,173,849,441,517,358],()=>r(2478)),_N_E=e.O()}]);